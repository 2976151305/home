<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="../layui/css/layui.css">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../layui/css/layui.mobile.css">
  <script src="../js/jquery-1.11.3.min.js"></script>
  <script src="../js/mian.js"></script>
  <!--[if lt IE 9]>
    <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
    <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
  <title>商务合作</title>
</head>

<body>
  <header id="header"></header>
  <main class="layui-container">
    <div class="condition">
      <h1>整装之家供应商原则</h1>
      <ul>
        <li></li>
      </ul>
      <div class="textC">
        <button class="layui-inline layui-btn layui-btn-primary apply-btn">申请成为合作伙伴</button>
      </div>
    </div>
  </main>
  <footer id="footer"></footer>

  <script src="../layui/layui.js"></script>
  <script>
    layui.use(['element', 'layer', 'form'], function () {
      var element = layui.element
      var layer = layui.layer
      var form = layui.form
      form.render()
      $('.apply-btn').on('click', function () {
        layer.open({
          title: '请告诉我们以下信息方便我们联系到您',
          content: `
          <div class="layui-form">
            <div class="layui-form-item">
              <label class="layui-form-label">经营模式</label>
              <input type="radio" name="sex" value="品牌方" title="品牌方" checked>
              <div class="layui-unselect layui-form-radio">
                <i class="layui-anim layui-icon"></i>
                <div>品牌方</div>
              </div>
              <input type="radio" name="sex" value="经销商" title="经销商">
              <div class="layui-unselect layui-form-radio">
                <i class="layui-anim layui-icon"></i>
                <div>经销商</div>
              </div>
            </div>
            <div class="layui-form-item">
              <label class="layui-form-label">品牌名称</label>
              <div class="layui-input-block">
                <input type="text" name="bname" id="bname" autocomplete="off" class="layui-input">
              </div>
            </div>
            <div class="layui-form-item">
              <label class="layui-form-label">公司名称</label>
              <div class="layui-input-block">
                <input type="text" name="cname" id="cname" autocomplete="off" class="layui-input">
              </div>
            </div>
            <div class="layui-form-item">
              <label class="layui-form-label">联系人</label>
              <div class="layui-input-block">
                <input type="text" name="ownername" id="ownername" autocomplete="off" class="layui-input">
              </div>
            </div>
            <div class="layui-form-item">
              <label class="layui-form-label">手机号码</label>
              <div class="layui-input-block">
                <input type="tel" name="ownerphone" id="ownerphone" autocomplete="off" class="layui-input">
              </div>
            </div>
          </div>
          `.trim(),
          shade: .5,
          shadeClose: true,
          closeBtn: false,
          move: false,
          area: ['400px', '550px'],
          btn: '提交',
          yes: function (index, layero) {
            let $bname = $('#bname').val(),
              $cname = $('#cname').val(),
              $ownername = $('#ownername').val(),
              $ownerphone = $('#ownerphone').val()
            if (!$bname.length || !$cname.length || !$ownername.length || !$ownerphone.length) {
              layer.alert('请输入对应的信息', {
                icon: 2,
                success: res => {
                  console.log(res)
                  return false
                }
              })
              return false
            }
            let data = {
              bname: $bname,
              cname: $cname,
              ownername: $ownername,
              ownerphone: $ownerphone
            }
            $.ajax({
              url: `${BASEURL}`,
              method: 'POST',
              data: data,
              dataType: 'json',
              headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
              },
              success: res => {
                console.log(res)
                layer.alert('提交成功', {
                  icon: 1
                })
                layer.close(index)
              },
              fail: res => {
                layer.msg('提交失败')
                new Error(res)
              }
            })
          }
        })
      })
    })
  </script>
</body>

</html>